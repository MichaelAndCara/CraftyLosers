@model CraftyLosers.Models.Profile
@{
    ViewBag.Title = "Profile";
}
@Html.Partial("_RpgNav")
<h2>
    Profile</h2>
<div class="row">
    <div class="span10">
        <div class="form-stacked">
            @Html.LabelFor(model => model.User.UserName)
            @Html.DisplayFor(model => model.User.UserName)
            @Html.LabelFor(model => model.Level)
            <div id="progressbar" class="span4">
                <span style="position: absolute; margin-left: 10px; margin-top: 2px; padding-top: 3px;">@ViewBag.PGText
                </span>
            </div>
            @Html.LabelFor(model => model.Points)
            @Html.DisplayFor(model => model.Points)
            @Html.LabelFor(model => model.Achievements)
            @{
                var count = Model.Achievements.Count();
                @Html.DisplayFor(model => count)
            }
            @Html.LabelFor(model => model.Quests)
            @Html.DisplayFor(model => model.Quests)
        </div>
    </div>
    <div class="span4">
        <div>
            <h3>
                Achievements Unlocked</h3>
            @foreach (var item in Model.Achievements)
            {
                <span title="@item.Description" class="label important">@item.Title</span>
            }
        </div>
@*        <hr />
        <div>
            <h3>
                Quests Completed</h3>
            @foreach (var item in Model.Achievements)
            {
                <span title="@item.Description" class="label important">@item.Title</span>
            }
        </div>*@
    </div>
</div>
@section javascript
{
    <script type="text/javascript">
        $(function () {
            $.get('/RPG/GetLevel', function (data) {
                $("#progressbar").progressbar({
                    value: data
                });
            })
        });
    </script>
}
