@model CraftyLosers.ViewModels.Workout

@{
    ViewBag.Title = "Log";
}
@section style
{
    #WorkoutDate
    {
        cursor: default;
    }
}
@Html.Partial("_RpgNav")

<h2>Log</h2>

@using (Html.BeginForm("Log", "RPG", FormMethod.Post, new { @class = "form-stacked" }))
{
	
	@Html.ValidationSummary(true)

    @Html.LabelFor(model => model.WorkoutDate)
    @Html.EditorFor(model => model.WorkoutDate)
    @Html.ValidationMessageFor(model => model.WorkoutDate)

    <hr />

	@Html.LabelFor(model => model.DurationWorkouts)
	@Html.DropDownListFor(model => model.DurationId, Model.DurationWorkouts)
	@Html.LabelFor(model => model.Duration)
	@Html.TextBoxFor(model => model.Duration, new { @class = "mini" })
	@Html.ValidationMessageFor(model => model.Duration)

	<hr />
	
	@Html.LabelFor(model => model.RepWorkouts)
	@Html.DropDownListFor(model => model.RepId, Model.RepWorkouts)
	@Html.LabelFor(model => model.Rep)
	@Html.TextBoxFor(model => model.Rep, new { @class = "mini" })
	@Html.ValidationMessageFor(model => model.Rep)
	
	<div class="actions">
		<input type="submit" value="Log" class="btn primary" />
		@Html.ActionLink("Cancel", "WorkoutLog", "RPG", null, new { @class = "btn secondary" })
	</div>
}

@section javascript
{
	<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
	<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
        <script type="text/javascript">
            $(function () {
                $("#WorkoutDate").datepicker(
                {
                    minDate: new Date("1/24/2012"),
                    maxDate: new Date("4/26/2012")
                });

                $("#WorkoutDate").attr('readonly', true);

                $("#WorkoutDate").datepicker('setDate', new Date());
            });
	</script>
}


